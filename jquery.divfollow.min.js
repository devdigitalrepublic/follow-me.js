/* DivFollow 1.41 | Anthony Drake Frost | http://github.com/lordkai/DivFollow */
(function(e){function f(b,d,c,a,k){var g=d.offset().top,h=b.outerHeight();d=d.height()-h;var f=e(window).scrollTop()+(""===c.offsetElement?c.offset:e("#"+c.offsetElement).height()),h=parseInt(b.css("margin-top"),10);f>g?(g=f-g,g<d?(a[0]||(a[0]=!0,c.movingStart()),k?b.stop().animate({marginTop:g+"px"},c.speed,function(){c.movingEnd();a[0]=!1;a[1]=!1;a[2]=!1}):b.css("margin-top",g+"px")):h!==d&&(a[1]||(a[1]=!0,c.bottomStart()),k?b.stop().animate({marginTop:d+"px"},c.speed,function(){c.bottomEnd();a[0]=!1;a[1]=!1;a[2]=!1}):b.css("margin-top",d+"px"))):0!==h&&(a[2]||(a[2]=!0,c.topStart()),k?b.stop().animate({marginTop:"0px"},c.speed,function(){c.topEnd();a[0]=!1;a[1]=!1;a[2]=!1}):b.css("margin-top","0px"));return a}e.fn.follow=function(b){var d=e.extend({container:"container",topStart:function(){},topEnd:function(){},bottomStart:function(){},bottomEnd:function(){},movingStart:function(){},movingEnd:function(){},speed:500,offset:0,offsetElement:""},b);return this.each(function(){var c=e("#"+d.container),a=e(this),b=[!1,!1,!1],b=f(a,c,d,b,!1);e(window).scroll(function(){f(a,c,d,b,!0)});e(window).resize(function(){a.css("margin-top");a.css("margin-top","0px");b=f(a,c,d,b,!1)})})}})(jQuery);