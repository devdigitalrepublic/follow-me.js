(function(b){function h(c,d,e,a){var f=b(window).scrollTop(),l=parseInt(c.css("margin-top"));f>d?(d=f-d,d<e?(a.movingCallback(),c.stop().animate({marginTop:d+"px"},"slow")):l!==e&&c.stop().animate({marginTop:e+"px"},"slow",a.bottomCallback)):0!==l&&c.stop().animate({marginTop:"0px"},"slow",a.topCallback)}b.fn.follow=function(c){var d=b.extend({container:"container",topCallback:function(){},bottomCallback:function(){},movingCallback:function(){}},c);return this.each(function(){var e=b("#"+d.container),a=b(this),f=e.offset().top,c=a.outerHeight(),k=e.height(),g=k-c;h(a,f,g,d);b(window).scroll(function(){h(a,f,g,d)});b(window).resize(function(){var b=a.css("margin-top");a.css("margin-top","0px");f=e.offset().top;c=a.outerHeight();k=e.height();g=k-c;b>g?a.css("margin-top",g):a.css("margin-top",b);h(a,f,g,d)})})}})(jQuery);